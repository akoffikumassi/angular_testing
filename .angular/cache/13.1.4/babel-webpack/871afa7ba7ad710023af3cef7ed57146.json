{"ast":null,"code":"import _asyncToGenerator from \"/home/yadadev/work/trainings/mean/angular/angular_testing/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { TestBed } from '@angular/core/testing';\nimport { BannerComponent } from './banner-external.component';\ndescribe('BannerComponent (external files)', () => {\n  let component;\n  let fixture;\n  let h1;\n  describe('setup that may fail', () => {\n    beforeEach( /*#__PURE__*/_asyncToGenerator(function* () {\n      yield TestBed.configureTestingModule({\n        declarations: [BannerComponent]\n      }); // missing call to compileComponents()\n\n      fixture = TestBed.createComponent(BannerComponent);\n    }));\n    it('should create', () => {\n      expect(fixture.componentInstance).toBeDefined();\n    });\n  });\n  describe('Two beforeEach', () => {\n    beforeEach( /*#__PURE__*/_asyncToGenerator(function* () {\n      yield TestBed.configureTestingModule({\n        declarations: [BannerComponent]\n      }).compileComponents(); // compile template and css\n    })); // synchronous beforeEach\n\n    beforeEach(() => {\n      fixture = TestBed.createComponent(BannerComponent);\n      component = fixture.componentInstance; // BannerComponent test instance\n\n      h1 = fixture.nativeElement.querySelector('h1');\n    });\n    tests();\n  });\n  describe('One beforeEach', () => {\n    beforeEach( /*#__PURE__*/_asyncToGenerator(function* () {\n      yield TestBed.configureTestingModule({\n        declarations: [BannerComponent]\n      }).compileComponents();\n      fixture = TestBed.createComponent(BannerComponent);\n      component = fixture.componentInstance;\n      h1 = fixture.nativeElement.querySelector('h1');\n    }));\n    tests();\n  });\n\n  function tests() {\n    it('no title in the DOM until manually call `detectChanges`', () => {\n      expect(h1.textContent).toEqual('');\n    });\n    it('should display original title', () => {\n      fixture.detectChanges();\n      expect(h1.textContent).toContain(component.title);\n    });\n    it('should display a different test title', () => {\n      component.title = 'Test Title';\n      fixture.detectChanges();\n      expect(h1.textContent).toContain('Test Title');\n    });\n  }\n});","map":{"version":3,"sources":["/home/yadadev/work/trainings/mean/angular/angular_testing/src/app/banner/banner-external.component.spec.ts"],"names":["TestBed","BannerComponent","describe","component","fixture","h1","beforeEach","configureTestingModule","declarations","createComponent","it","expect","componentInstance","toBeDefined","compileComponents","nativeElement","querySelector","tests","textContent","toEqual","detectChanges","toContain","title"],"mappings":";AAAA,SAASA,OAAT,QAAwB,uBAAxB;AACA,SAASC,eAAT,QAAgC,6BAAhC;AACAC,QAAQ,CAAC,kCAAD,EAAqC,MAAM;AAC/C,MAAIC,SAAJ;AACA,MAAIC,OAAJ;AACA,MAAIC,EAAJ;AACAH,EAAAA,QAAQ,CAAC,qBAAD,EAAwB,MAAM;AAClCI,IAAAA,UAAU,iCAAC,aAAY;AACnB,YAAMN,OAAO,CAACO,sBAAR,CAA+B;AACjCC,QAAAA,YAAY,EAAE,CAACP,eAAD;AADmB,OAA/B,CAAN,CADmB,CAGf;;AACJG,MAAAA,OAAO,GAAGJ,OAAO,CAACS,eAAR,CAAwBR,eAAxB,CAAV;AACH,KALS,EAAV;AAMAS,IAAAA,EAAE,CAAC,eAAD,EAAkB,MAAM;AACtBC,MAAAA,MAAM,CAACP,OAAO,CAACQ,iBAAT,CAAN,CAAkCC,WAAlC;AACH,KAFC,CAAF;AAGH,GAVO,CAAR;AAWAX,EAAAA,QAAQ,CAAC,gBAAD,EAAmB,MAAM;AAC7BI,IAAAA,UAAU,iCAAC,aAAY;AACnB,YAAMN,OAAO,CAACO,sBAAR,CAA+B;AACjCC,QAAAA,YAAY,EAAE,CAACP,eAAD;AADmB,OAA/B,EAEHa,iBAFG,EAAN,CADmB,CAGK;AAC3B,KAJS,EAAV,CAD6B,CAM7B;;AACAR,IAAAA,UAAU,CAAC,MAAM;AACbF,MAAAA,OAAO,GAAGJ,OAAO,CAACS,eAAR,CAAwBR,eAAxB,CAAV;AACAE,MAAAA,SAAS,GAAGC,OAAO,CAACQ,iBAApB,CAFa,CAE0B;;AACvCP,MAAAA,EAAE,GAAGD,OAAO,CAACW,aAAR,CAAsBC,aAAtB,CAAoC,IAApC,CAAL;AACH,KAJS,CAAV;AAKAC,IAAAA,KAAK;AACR,GAbO,CAAR;AAcAf,EAAAA,QAAQ,CAAC,gBAAD,EAAmB,MAAM;AAC7BI,IAAAA,UAAU,iCAAC,aAAY;AACnB,YAAMN,OAAO,CAACO,sBAAR,CAA+B;AACjCC,QAAAA,YAAY,EAAE,CAACP,eAAD;AADmB,OAA/B,EAEHa,iBAFG,EAAN;AAGAV,MAAAA,OAAO,GAAGJ,OAAO,CAACS,eAAR,CAAwBR,eAAxB,CAAV;AACAE,MAAAA,SAAS,GAAGC,OAAO,CAACQ,iBAApB;AACAP,MAAAA,EAAE,GAAGD,OAAO,CAACW,aAAR,CAAsBC,aAAtB,CAAoC,IAApC,CAAL;AACH,KAPS,EAAV;AAQAC,IAAAA,KAAK;AACR,GAVO,CAAR;;AAWA,WAASA,KAAT,GAAiB;AACbP,IAAAA,EAAE,CAAC,yDAAD,EAA4D,MAAM;AAChEC,MAAAA,MAAM,CAACN,EAAE,CAACa,WAAJ,CAAN,CAAuBC,OAAvB,CAA+B,EAA/B;AACH,KAFC,CAAF;AAGAT,IAAAA,EAAE,CAAC,+BAAD,EAAkC,MAAM;AACtCN,MAAAA,OAAO,CAACgB,aAAR;AACAT,MAAAA,MAAM,CAACN,EAAE,CAACa,WAAJ,CAAN,CAAuBG,SAAvB,CAAiClB,SAAS,CAACmB,KAA3C;AACH,KAHC,CAAF;AAIAZ,IAAAA,EAAE,CAAC,uCAAD,EAA0C,MAAM;AAC9CP,MAAAA,SAAS,CAACmB,KAAV,GAAkB,YAAlB;AACAlB,MAAAA,OAAO,CAACgB,aAAR;AACAT,MAAAA,MAAM,CAACN,EAAE,CAACa,WAAJ,CAAN,CAAuBG,SAAvB,CAAiC,YAAjC;AACH,KAJC,CAAF;AAKH;AACJ,CAtDO,CAAR","sourcesContent":["import { TestBed } from '@angular/core/testing';\nimport { BannerComponent } from './banner-external.component';\ndescribe('BannerComponent (external files)', () => {\n    let component;\n    let fixture;\n    let h1;\n    describe('setup that may fail', () => {\n        beforeEach(async () => {\n            await TestBed.configureTestingModule({\n                declarations: [BannerComponent],\n            }); // missing call to compileComponents()\n            fixture = TestBed.createComponent(BannerComponent);\n        });\n        it('should create', () => {\n            expect(fixture.componentInstance).toBeDefined();\n        });\n    });\n    describe('Two beforeEach', () => {\n        beforeEach(async () => {\n            await TestBed.configureTestingModule({\n                declarations: [BannerComponent],\n            }).compileComponents(); // compile template and css\n        });\n        // synchronous beforeEach\n        beforeEach(() => {\n            fixture = TestBed.createComponent(BannerComponent);\n            component = fixture.componentInstance; // BannerComponent test instance\n            h1 = fixture.nativeElement.querySelector('h1');\n        });\n        tests();\n    });\n    describe('One beforeEach', () => {\n        beforeEach(async () => {\n            await TestBed.configureTestingModule({\n                declarations: [BannerComponent],\n            }).compileComponents();\n            fixture = TestBed.createComponent(BannerComponent);\n            component = fixture.componentInstance;\n            h1 = fixture.nativeElement.querySelector('h1');\n        });\n        tests();\n    });\n    function tests() {\n        it('no title in the DOM until manually call `detectChanges`', () => {\n            expect(h1.textContent).toEqual('');\n        });\n        it('should display original title', () => {\n            fixture.detectChanges();\n            expect(h1.textContent).toContain(component.title);\n        });\n        it('should display a different test title', () => {\n            component.title = 'Test Title';\n            fixture.detectChanges();\n            expect(h1.textContent).toContain('Test Title');\n        });\n    }\n});\n"]},"metadata":{},"sourceType":"module"}